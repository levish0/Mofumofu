# Requirements Document

## Introduction

이 기능은 현재의 댓글 시스템을 레딧 스타일의 트리 구조 UI로 개선하는 것입니다. 현재 하트 기반의 좋아요 시스템은 유지하면서, 레딧식 계층적 댓글 구조와 시각적 트리 라인을 추가하여 사용자들이 더 직관적으로 댓글 스레드를 탐색할 수 있도록 합니다.

## Requirements

### Requirement 1

**User Story:** 사용자로서, 답글들이 레딧식 트리 구조로 시각화되어야 하므로, 댓글 간의 관계를 명확히 파악할 수 있다.

#### Acceptance Criteria

1. WHEN 답글이 표시되면 THEN 시스템은 부모 댓글의 왼쪽에서 시작하는 세로선을 표시해야 한다
2. WHEN 답글이 표시되면 THEN 시스템은 세로선에서 답글로 연결되는 가로선을 표시해야 한다
3. WHEN 답글에 또 다른 답글이 있으면 THEN 시스템은 중첩된 트리 라인을 표시해야 한다
4. WHEN 트리 라인이 표시되면 THEN 시스템은 현재 테마(라이트/다크)에 맞는 색상을 사용해야 한다

### Requirement 2

**User Story:** 사용자로서, 댓글의 시각적 레이아웃이 레딧 스타일로 표시되어야 하므로, 친숙하고 직관적인 인터페이스를 사용할 수 있다.

#### Acceptance Criteria

1. WHEN 댓글이 표시되면 THEN 시스템은 사용자 프로필 이미지, 사용자명, 시간을 한 줄에 표시해야 한다
2. WHEN 댓글이 표시되면 THEN 시스템은 댓글 내용 아래에 좋아요, 답글 등의 액션 버튼들을 표시해야 한다
3. WHEN 댓글이 표시되면 THEN 시스템은 레딧과 유사한 간격과 패딩을 사용해야 한다
4. WHEN 사용자가 좋아요한 댓글이면 THEN 시스템은 하트 버튼을 빨간색으로 하이라이트해야 한다

### Requirement 3

**User Story:** 사용자로서, 답글들이 계층적으로 들여쓰기되어 표시되어야 하므로, 대화의 맥락을 쉽게 파악할 수 있다.

#### Acceptance Criteria

1. WHEN 답글이 표시되면 THEN 시스템은 부모 댓글보다 오른쪽으로 들여쓰기하여 표시해야 한다
2. WHEN 답글의 답글이 표시되면 THEN 시스템은 더 깊은 들여쓰기를 적용해야 한다
3. WHEN 들여쓰기 깊이가 5단계를 초과하면 THEN 시스템은 더 이상 들여쓰기를 증가시키지 않아야 한다
4. WHEN 답글이 표시되면 THEN 시스템은 부모 댓글과의 연결을 나타내는 세로선을 표시해야 한다

### Requirement 4

**User Story:** 사용자로서, 댓글 스레드를 접고 펼칠 수 있어야 하므로, 긴 토론에서 원하는 부분만 집중해서 볼 수 있다.

#### Acceptance Criteria

1. WHEN 댓글에 답글이 있으면 THEN 시스템은 댓글 옆에 접기/펼치기 버튼을 표시해야 한다
2. WHEN 사용자가 접기 버튼을 클릭하면 THEN 시스템은 해당 댓글의 모든 답글을 숨겨야 한다
3. WHEN 사용자가 펼치기 버튼을 클릭하면 THEN 시스템은 해당 댓글의 답글들을 다시 표시해야 한다
4. WHEN 댓글이 접혀있으면 THEN 시스템은 숨겨진 답글의 개수를 표시해야 한다

### Requirement 5

**User Story:** 사용자로서, 시간 표시가 상대적 시간으로 표시되어야 하므로, 댓글이 언제 작성되었는지 직관적으로 알 수 있다.

#### Acceptance Criteria

1. WHEN 댓글이 1분 미만 전에 작성되었으면 THEN 시스템은 "방금 전"으로 표시해야 한다
2. WHEN 댓글이 1시간 미만 전에 작성되었으면 THEN 시스템은 "X분 전"으로 표시해야 한다
3. WHEN 댓글이 24시간 미만 전에 작성되었으면 THEN 시스템은 "X시간 전"으로 표시해야 한다
4. WHEN 댓글이 7일 미만 전에 작성되었으면 THEN 시스템은 "X일 전"으로 표시해야 한다
5. WHEN 댓글이 7일 이상 전에 작성되었으면 THEN 시스템은 날짜를 표시해야 한다

### Requirement 7

**User Story:** 사용자로서, 댓글 스레드 탐색이 직관적이어야 하므로, 복잡한 토론에서도 쉽게 원하는 댓글을 찾을 수 있다.

#### Acceptance Criteria

1. WHEN 사용자가 댓글 위에 마우스를 올리면 THEN 시스템은 해당 댓글과 연결된 트리 라인을 하이라이트해야 한다
2. WHEN 댓글 스레드가 깊어지면 THEN 시스템은 적절한 최대 들여쓰기 깊이를 유지해야 한다
3. WHEN 댓글이 많은 답글을 가지고 있으면 THEN 시스템은 "답글 X개 더 보기" 버튼을 제공해야 한다
