{
  "openapi": "3.1.0",
  "info": {
    "title": "mofumofu_server",
    "description": "mofumofu_server",
    "contact": {
      "name": "Levi Laine",
      "email": "shiueo.csh@gmail.com"
    },
    "license": {
      "name": ""
    },
    "version": "2.4.9"
  },
  "paths": {
    "/health-check": {
      "get": {
        "tags": [
          "Health"
        ],
        "operationId": "health_check",
        "responses": {
          "204": {
            "description": "Service is healthy and running"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/v0/action-logs": {
      "get": {
        "tags": [
          "Action Logs"
        ],
        "operationId": "get_action_logs",
        "parameters": [
          {
            "name": "cursor_id",
            "in": "query",
            "description": "Cursor ID for pagination. None means get latest.",
            "required": false,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "cursor_direction",
            "in": "query",
            "description": "Cursor direction (default: Older when cursor_id is provided)",
            "required": false,
            "schema": {
              "$ref": "#/components/schemas/CursorDirection"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "Number of items to return (max: 100)",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64",
              "minimum": 0
            }
          },
          {
            "name": "user_id",
            "in": "query",
            "description": "Filter by user ID (for contributions)",
            "required": false,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "resource_id",
            "in": "query",
            "description": "Filter by resource ID",
            "required": false,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "resource_type",
            "in": "query",
            "description": "Filter by resource type",
            "required": false,
            "schema": {
              "$ref": "#/components/schemas/ActionResourceType"
            }
          },
          {
            "name": "actions",
            "in": "query",
            "description": "Filter by actions",
            "required": false,
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/components/schemas/ActionLogAction"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Action logs retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ActionLogListResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Invalid query parameters or validation error"
          },
          "500": {
            "description": "Internal Server Error - Database error"
          }
        }
      }
    },
    "/v0/auth/change-email": {
      "post": {
        "tags": [
          "Auth"
        ],
        "operationId": "auth_change_email",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ChangeEmailRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "204": {
            "description": "Verification email sent to new address"
          },
          "400": {
            "description": "Bad request - Invalid JSON, validation error, or incorrect password"
          },
          "401": {
            "description": "Unauthorized - Invalid or expired session"
          },
          "500": {
            "description": "Internal Server Error"
          }
        },
        "security": [
          {
            "session_id_cookie": []
          }
        ]
      }
    },
    "/v0/auth/change-password": {
      "post": {
        "tags": [
          "Auth"
        ],
        "operationId": "auth_change_password",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ChangePasswordRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "204": {
            "description": "Password changed successfully"
          },
          "400": {
            "description": "Bad request - Invalid JSON, validation error, or incorrect password"
          },
          "401": {
            "description": "Unauthorized - Invalid or expired session"
          },
          "500": {
            "description": "Internal Server Error"
          }
        },
        "security": [
          {
            "session_id_cookie": []
          }
        ]
      }
    },
    "/v0/auth/complete-signup": {
      "post": {
        "tags": [
          "Auth"
        ],
        "summary": "OAuth pending signup을 완료합니다.",
        "description": "OAuth 로그인 시 신규 사용자인 경우 반환된 pending_token과 함께\nhandle을 제출하여 가입을 완료합니다.",
        "operationId": "auth_complete_signup",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CompleteSignupRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "204": {
            "description": "Signup completed successfully"
          },
          "400": {
            "description": "Bad request - Invalid JSON or validation error"
          },
          "401": {
            "description": "Unauthorized - Token expired or invalid"
          },
          "409": {
            "description": "Conflict - Handle or email already exists"
          },
          "500": {
            "description": "Internal Server Error - Database or Redis error"
          }
        }
      }
    },
    "/v0/auth/confirm-email-change": {
      "post": {
        "tags": [
          "Auth"
        ],
        "operationId": "auth_confirm_email_change",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ConfirmEmailChangeRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "204": {
            "description": "Email changed successfully"
          },
          "400": {
            "description": "Bad request - Invalid or expired token"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/v0/auth/forgot-password": {
      "post": {
        "tags": [
          "Auth"
        ],
        "operationId": "auth_forgot_password",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ForgotPasswordRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "204": {
            "description": "Password reset email sent if account exists"
          },
          "400": {
            "description": "Bad request - Invalid JSON or validation error"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/v0/auth/login": {
      "post": {
        "tags": [
          "Auth"
        ],
        "operationId": "auth_login",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LoginRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "202": {
            "description": "TOTP required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TotpRequiredResponse"
                }
              }
            }
          },
          "204": {
            "description": "Login successful"
          },
          "400": {
            "description": "Bad request - Invalid JSON or validation error"
          },
          "401": {
            "description": "Unauthorized - Invalid credentials or password not set"
          },
          "404": {
            "description": "Not Found - User not found"
          },
          "500": {
            "description": "Internal Server Error - Database or Redis error"
          }
        }
      }
    },
    "/v0/auth/logout": {
      "post": {
        "tags": [
          "Auth"
        ],
        "operationId": "auth_logout",
        "responses": {
          "204": {
            "description": "Logout successful"
          },
          "401": {
            "description": "Unauthorized - Invalid or expired session"
          },
          "500": {
            "description": "Internal Server Error - Redis error"
          }
        },
        "security": [
          {
            "session_id_cookie": []
          }
        ]
      }
    },
    "/v0/auth/oauth/connections": {
      "get": {
        "tags": [
          "Auth"
        ],
        "summary": "현재 사용자의 OAuth 연결 목록을 조회합니다.",
        "operationId": "list_oauth_connections",
        "responses": {
          "200": {
            "description": "OAuth connections list",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OAuthConnectionListResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Invalid or expired session"
          },
          "500": {
            "description": "Internal Server Error - Database error"
          }
        },
        "security": [
          {
            "session_id_cookie": []
          }
        ]
      }
    },
    "/v0/auth/oauth/connections/unlink": {
      "post": {
        "tags": [
          "Auth"
        ],
        "summary": "OAuth 연결을 해제합니다.",
        "operationId": "unlink_oauth_connection",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UnlinkOAuthRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "204": {
            "description": "OAuth unlinked successfully"
          },
          "400": {
            "description": "Bad request - Invalid JSON, validation error, or cannot unlink last authentication method"
          },
          "401": {
            "description": "Unauthorized - Invalid or expired session"
          },
          "404": {
            "description": "Not Found - User or OAuth connection not found"
          },
          "500": {
            "description": "Internal Server Error - Database error"
          }
        },
        "security": [
          {
            "session_id_cookie": []
          }
        ]
      }
    },
    "/v0/auth/oauth/github/authorize": {
      "get": {
        "tags": [
          "Auth"
        ],
        "summary": "GitHub OAuth 인증 URL을 생성합니다.",
        "operationId": "auth_github_authorize",
        "responses": {
          "200": {
            "description": "OAuth URL generated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OAuthUrlResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error - Redis or OAuth URL generation error"
          }
        }
      }
    },
    "/v0/auth/oauth/github/link": {
      "post": {
        "tags": [
          "Auth"
        ],
        "summary": "GitHub OAuth를 현재 계정에 연결합니다.",
        "operationId": "auth_github_link",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/GithubLinkRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "204": {
            "description": "OAuth linked successfully"
          },
          "400": {
            "description": "Bad request - Invalid JSON, validation error, invalid or expired state/code"
          },
          "401": {
            "description": "Unauthorized - Invalid or expired session"
          },
          "409": {
            "description": "Conflict - OAuth account already linked to this or another user"
          },
          "500": {
            "description": "Internal Server Error - Database, Redis, or OAuth provider error"
          }
        },
        "security": [
          {
            "session_id_cookie": []
          }
        ]
      }
    },
    "/v0/auth/oauth/github/login": {
      "post": {
        "tags": [
          "Auth"
        ],
        "summary": "GitHub OAuth 로그인을 처리합니다.",
        "description": "- 기존 사용자: 204 No Content + Set-Cookie\n- 신규 사용자: 200 OK + pending signup 정보 (complete-signup 필요)",
        "operationId": "auth_github_login",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/GithubLoginRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "New user - pending signup required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OAuthPendingSignupResponse"
                }
              }
            }
          },
          "204": {
            "description": "Login successful (existing user)"
          },
          "400": {
            "description": "Bad request - Invalid JSON, validation error, invalid/expired state/code, or no verified email"
          },
          "409": {
            "description": "Conflict - Email already exists"
          },
          "500": {
            "description": "Internal Server Error - Database, Redis, or OAuth provider error"
          }
        }
      }
    },
    "/v0/auth/oauth/google/authorize": {
      "get": {
        "tags": [
          "Auth"
        ],
        "summary": "Google OAuth 인증 URL을 생성합니다.",
        "operationId": "auth_google_authorize",
        "responses": {
          "200": {
            "description": "OAuth URL generated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OAuthUrlResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error - Redis or OAuth URL generation error"
          }
        }
      }
    },
    "/v0/auth/oauth/google/link": {
      "post": {
        "tags": [
          "Auth"
        ],
        "summary": "Google OAuth를 현재 계정에 연결합니다.",
        "operationId": "auth_google_link",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/GoogleLinkRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "204": {
            "description": "OAuth linked successfully"
          },
          "400": {
            "description": "Bad request - Invalid JSON, validation error, invalid or expired state/code"
          },
          "401": {
            "description": "Unauthorized - Invalid or expired session"
          },
          "409": {
            "description": "Conflict - OAuth account already linked to this or another user"
          },
          "500": {
            "description": "Internal Server Error - Database, Redis, or OAuth provider error"
          }
        },
        "security": [
          {
            "session_id_cookie": []
          }
        ]
      }
    },
    "/v0/auth/oauth/google/login": {
      "post": {
        "tags": [
          "Auth"
        ],
        "summary": "Google OAuth 로그인을 처리합니다.",
        "description": "- 기존 사용자: 204 No Content + Set-Cookie\n- 신규 사용자: 200 OK + pending signup 정보 (complete-signup 필요)",
        "operationId": "auth_google_login",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/GoogleLoginRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "New user - pending signup required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OAuthPendingSignupResponse"
                }
              }
            }
          },
          "204": {
            "description": "Login successful (existing user)"
          },
          "400": {
            "description": "Bad request - Invalid JSON, validation error, or invalid/expired state/code"
          },
          "409": {
            "description": "Conflict - Email already exists"
          },
          "500": {
            "description": "Internal Server Error - Database, Redis, or OAuth provider error"
          }
        }
      }
    },
    "/v0/auth/resend-verification-email": {
      "post": {
        "tags": [
          "Auth"
        ],
        "operationId": "auth_resend_verification_email",
        "responses": {
          "204": {
            "description": "Verification email sent successfully"
          },
          "401": {
            "description": "Unauthorized - Invalid or expired session, or OAuth user without password"
          },
          "404": {
            "description": "Not Found - User not found"
          },
          "409": {
            "description": "Conflict - Email already verified"
          },
          "500": {
            "description": "Internal Server Error - Database or Redis error"
          },
          "502": {
            "description": "Bad Gateway - Worker service request failed or returned invalid response"
          },
          "503": {
            "description": "Service Unavailable - Worker service connection failed"
          }
        },
        "security": [
          {
            "session_id_cookie": []
          }
        ]
      }
    },
    "/v0/auth/reset-password": {
      "post": {
        "tags": [
          "Auth"
        ],
        "operationId": "auth_reset_password",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ResetPasswordRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "204": {
            "description": "Password reset successfully"
          },
          "400": {
            "description": "Bad request - Invalid JSON, validation error, or invalid/expired token"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/v0/auth/totp/backup-codes/regenerate": {
      "post": {
        "tags": [
          "Auth - TOTP"
        ],
        "operationId": "totp_regenerate_backup_codes",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TotpRegenerateBackupCodesRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Backup codes regenerated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TotpBackupCodesResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid TOTP code or TOTP not enabled"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal Server Error"
          }
        },
        "security": [
          {
            "session_id_cookie": []
          }
        ]
      }
    },
    "/v0/auth/totp/disable": {
      "post": {
        "tags": [
          "Auth - TOTP"
        ],
        "operationId": "totp_disable",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TotpDisableRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "204": {
            "description": "TOTP disabled"
          },
          "400": {
            "description": "Invalid TOTP code or TOTP not enabled"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal Server Error"
          }
        },
        "security": [
          {
            "session_id_cookie": []
          }
        ]
      }
    },
    "/v0/auth/totp/enable": {
      "post": {
        "tags": [
          "Auth - TOTP"
        ],
        "operationId": "totp_enable",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TotpEnableRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "TOTP enabled",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TotpEnableResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid TOTP code"
          },
          "401": {
            "description": "Unauthorized"
          },
          "409": {
            "description": "TOTP already enabled"
          },
          "500": {
            "description": "Internal Server Error"
          }
        },
        "security": [
          {
            "session_id_cookie": []
          }
        ]
      }
    },
    "/v0/auth/totp/setup": {
      "post": {
        "tags": [
          "Auth - TOTP"
        ],
        "operationId": "totp_setup",
        "responses": {
          "200": {
            "description": "TOTP setup initiated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TotpSetupResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "409": {
            "description": "TOTP already enabled"
          },
          "500": {
            "description": "Internal Server Error"
          }
        },
        "security": [
          {
            "session_id_cookie": []
          }
        ]
      }
    },
    "/v0/auth/totp/status": {
      "get": {
        "tags": [
          "Auth - TOTP"
        ],
        "operationId": "totp_status",
        "responses": {
          "200": {
            "description": "TOTP status",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TotpStatusResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal Server Error"
          }
        },
        "security": [
          {
            "session_id_cookie": []
          }
        ]
      }
    },
    "/v0/auth/totp/verify": {
      "post": {
        "tags": [
          "Auth - TOTP"
        ],
        "operationId": "totp_verify",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TotpVerifyRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "204": {
            "description": "TOTP verified, login successful"
          },
          "400": {
            "description": "Invalid TOTP code or temp token"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/v0/auth/verify-email": {
      "post": {
        "tags": [
          "Auth"
        ],
        "operationId": "auth_verify_email",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/VerifyEmailRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "204": {
            "description": "Email verified successfully"
          },
          "400": {
            "description": "Bad request - Invalid JSON, validation error, invalid or expired token"
          },
          "404": {
            "description": "Not Found - User not found"
          },
          "409": {
            "description": "Conflict - Email already verified"
          },
          "500": {
            "description": "Internal Server Error - Database or Redis error"
          }
        }
      }
    },
    "/v0/comments": {
      "get": {
        "tags": [
          "Comments"
        ],
        "operationId": "get_comments",
        "parameters": [
          {
            "name": "post_id",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "cursor_id",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "cursor_direction",
            "in": "query",
            "required": false,
            "schema": {
              "$ref": "#/components/schemas/CursorDirection"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64",
              "minimum": 0
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Comments retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CommentListResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Invalid query parameters"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      },
      "post": {
        "tags": [
          "Comments"
        ],
        "operationId": "create_comment",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateCommentRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Comment created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CommentResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Invalid JSON or validation error"
          },
          "401": {
            "description": "Unauthorized - Invalid or expired session"
          },
          "404": {
            "description": "Not Found - Post or parent comment does not exist"
          },
          "500": {
            "description": "Internal Server Error"
          }
        },
        "security": [
          {
            "session_id_cookie": []
          }
        ]
      }
    },
    "/v0/comments/{comment_id}": {
      "delete": {
        "tags": [
          "Comments"
        ],
        "operationId": "delete_comment",
        "parameters": [
          {
            "name": "comment_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Comment deleted successfully"
          },
          "401": {
            "description": "Unauthorized - Invalid or expired session"
          },
          "403": {
            "description": "Forbidden - Not the comment author"
          },
          "404": {
            "description": "Not Found - Comment does not exist"
          },
          "500": {
            "description": "Internal Server Error"
          }
        },
        "security": [
          {
            "session_id_cookie": []
          }
        ]
      },
      "patch": {
        "tags": [
          "Comments"
        ],
        "operationId": "update_comment",
        "parameters": [
          {
            "name": "comment_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateCommentRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Comment updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CommentResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Invalid JSON or validation error"
          },
          "401": {
            "description": "Unauthorized - Invalid or expired session"
          },
          "403": {
            "description": "Forbidden - Not the comment author"
          },
          "404": {
            "description": "Not Found - Comment does not exist"
          },
          "500": {
            "description": "Internal Server Error"
          }
        },
        "security": [
          {
            "session_id_cookie": []
          }
        ]
      }
    },
    "/v0/drafts": {
      "get": {
        "tags": [
          "Drafts"
        ],
        "operationId": "get_drafts",
        "responses": {
          "200": {
            "description": "Drafts retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DraftListResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Invalid or expired session"
          },
          "500": {
            "description": "Internal Server Error"
          }
        },
        "security": [
          {
            "session_id_cookie": []
          }
        ]
      },
      "post": {
        "tags": [
          "Drafts"
        ],
        "operationId": "create_draft",
        "responses": {
          "201": {
            "description": "Draft created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DraftResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Invalid or expired session"
          },
          "500": {
            "description": "Internal Server Error"
          }
        },
        "security": [
          {
            "session_id_cookie": []
          }
        ]
      }
    },
    "/v0/drafts/{draft_id}": {
      "get": {
        "tags": [
          "Drafts"
        ],
        "operationId": "get_draft",
        "parameters": [
          {
            "name": "draft_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Draft retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DraftResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Invalid or expired session"
          },
          "404": {
            "description": "Not Found - Draft does not exist"
          },
          "500": {
            "description": "Internal Server Error"
          }
        },
        "security": [
          {
            "session_id_cookie": []
          }
        ]
      },
      "delete": {
        "tags": [
          "Drafts"
        ],
        "operationId": "delete_draft",
        "parameters": [
          {
            "name": "draft_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Draft deleted successfully"
          },
          "401": {
            "description": "Unauthorized - Invalid or expired session"
          },
          "404": {
            "description": "Not Found - Draft does not exist"
          },
          "500": {
            "description": "Internal Server Error"
          }
        },
        "security": [
          {
            "session_id_cookie": []
          }
        ]
      },
      "patch": {
        "tags": [
          "Drafts"
        ],
        "operationId": "update_draft",
        "parameters": [
          {
            "name": "draft_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateDraftRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Draft updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DraftResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Invalid JSON or validation error"
          },
          "401": {
            "description": "Unauthorized - Invalid or expired session"
          },
          "404": {
            "description": "Not Found - Draft does not exist"
          },
          "500": {
            "description": "Internal Server Error"
          }
        },
        "security": [
          {
            "session_id_cookie": []
          }
        ]
      }
    },
    "/v0/drafts/{draft_id}/publish": {
      "post": {
        "tags": [
          "Drafts"
        ],
        "operationId": "publish_draft",
        "parameters": [
          {
            "name": "draft_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PublishDraftRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Draft published as post successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PostResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Invalid JSON or validation error"
          },
          "401": {
            "description": "Unauthorized - Invalid or expired session"
          },
          "404": {
            "description": "Not Found - Draft does not exist"
          },
          "500": {
            "description": "Internal Server Error"
          }
        },
        "security": [
          {
            "session_id_cookie": []
          }
        ]
      }
    },
    "/v0/eventstream/actions": {
      "get": {
        "tags": [
          "EventStream"
        ],
        "operationId": "stream_actions",
        "parameters": [
          {
            "name": "user_id",
            "in": "query",
            "description": "Filter by user ID (for contributions)",
            "required": false,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "resource_id",
            "in": "query",
            "description": "Filter by resource ID",
            "required": false,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "resource_type",
            "in": "query",
            "description": "Filter by resource type",
            "required": false,
            "schema": {
              "$ref": "#/components/schemas/ActionResourceType"
            }
          },
          {
            "name": "actions",
            "in": "query",
            "description": "Filter by actions",
            "required": false,
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/components/schemas/ActionLogAction"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "SSE stream of action logs",
            "content": {
              "text/event-stream": {}
            }
          }
        }
      }
    },
    "/v0/follows": {
      "post": {
        "tags": [
          "Follows"
        ],
        "operationId": "create_follow",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FollowRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Follow created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FollowStatusResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Invalid JSON or validation error"
          },
          "401": {
            "description": "Unauthorized - Invalid or expired session"
          },
          "409": {
            "description": "Conflict - Already following"
          },
          "500": {
            "description": "Internal Server Error"
          }
        },
        "security": [
          {
            "session_id_cookie": []
          }
        ]
      },
      "delete": {
        "tags": [
          "Follows"
        ],
        "operationId": "delete_follow",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FollowRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Follow removed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FollowStatusResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Invalid JSON or validation error"
          },
          "401": {
            "description": "Unauthorized - Invalid or expired session"
          },
          "404": {
            "description": "Not Found - Follow does not exist"
          },
          "500": {
            "description": "Internal Server Error"
          }
        },
        "security": [
          {
            "session_id_cookie": []
          }
        ]
      }
    },
    "/v0/follows/followers": {
      "get": {
        "tags": [
          "Follows"
        ],
        "operationId": "get_followers",
        "parameters": [
          {
            "name": "user_id",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "cursor_id",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "cursor_direction",
            "in": "query",
            "required": false,
            "schema": {
              "$ref": "#/components/schemas/CursorDirection"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64",
              "minimum": 0
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Followers retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FollowListResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Invalid query parameters"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/v0/follows/following": {
      "get": {
        "tags": [
          "Follows"
        ],
        "operationId": "get_following",
        "parameters": [
          {
            "name": "user_id",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "cursor_id",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "cursor_direction",
            "in": "query",
            "required": false,
            "schema": {
              "$ref": "#/components/schemas/CursorDirection"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64",
              "minimum": 0
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Following list retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FollowListResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Invalid query parameters"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/v0/follows/status": {
      "get": {
        "tags": [
          "Follows"
        ],
        "operationId": "check_follow_status",
        "parameters": [
          {
            "name": "followee_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Follow status retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FollowStatusResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Invalid query parameters"
          },
          "401": {
            "description": "Unauthorized - Invalid or expired session"
          },
          "500": {
            "description": "Internal Server Error"
          }
        },
        "security": [
          {
            "session_id_cookie": []
          }
        ]
      }
    },
    "/v0/hashtags/trending": {
      "get": {
        "tags": [
          "Hashtags"
        ],
        "operationId": "get_trending",
        "parameters": [
          {
            "name": "limit",
            "in": "path",
            "required": true,
            "schema": {
              "type": [
                "integer",
                "null"
              ],
              "format": "int64",
              "minimum": 0
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Trending hashtags retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TrendingHashtagsResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Invalid query parameters"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/v0/likes": {
      "post": {
        "tags": [
          "Likes"
        ],
        "operationId": "create_like",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LikeRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Like created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LikeStatusResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Invalid JSON or validation error"
          },
          "401": {
            "description": "Unauthorized - Invalid or expired session"
          },
          "404": {
            "description": "Not Found - Target does not exist"
          },
          "409": {
            "description": "Conflict - Already liked"
          },
          "500": {
            "description": "Internal Server Error"
          }
        },
        "security": [
          {
            "session_id_cookie": []
          }
        ]
      },
      "delete": {
        "tags": [
          "Likes"
        ],
        "operationId": "delete_like",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LikeRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Like removed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LikeStatusResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Invalid JSON or validation error"
          },
          "401": {
            "description": "Unauthorized - Invalid or expired session"
          },
          "404": {
            "description": "Not Found - Like does not exist"
          },
          "500": {
            "description": "Internal Server Error"
          }
        },
        "security": [
          {
            "session_id_cookie": []
          }
        ]
      }
    },
    "/v0/likes/status": {
      "get": {
        "tags": [
          "Likes"
        ],
        "operationId": "check_like_status",
        "parameters": [
          {
            "name": "target_type",
            "in": "path",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/LikeTargetType"
            }
          },
          {
            "name": "target_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Like status retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LikeStatusResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Invalid query parameters"
          },
          "401": {
            "description": "Unauthorized - Invalid or expired session"
          },
          "500": {
            "description": "Internal Server Error"
          }
        },
        "security": [
          {
            "session_id_cookie": []
          }
        ]
      }
    },
    "/v0/moderation-logs": {
      "get": {
        "tags": [
          "Moderation Logs"
        ],
        "operationId": "get_moderation_logs",
        "parameters": [
          {
            "name": "cursor_id",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "cursor_direction",
            "in": "query",
            "required": false,
            "schema": {
              "$ref": "#/components/schemas/CursorDirection"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64",
              "minimum": 0
            }
          },
          {
            "name": "actor_id",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "resource_type",
            "in": "query",
            "required": false,
            "schema": {
              "$ref": "#/components/schemas/ModerationResourceType"
            }
          },
          {
            "name": "resource_id",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Moderation logs retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ModerationLogListResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Invalid query parameters"
          },
          "401": {
            "description": "Unauthorized - Invalid or expired session"
          },
          "500": {
            "description": "Internal Server Error"
          }
        },
        "security": [
          {
            "session_id_cookie": []
          }
        ]
      }
    },
    "/v0/posts": {
      "get": {
        "tags": [
          "Posts"
        ],
        "operationId": "get_posts",
        "parameters": [
          {
            "name": "cursor_id",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "cursor_direction",
            "in": "query",
            "required": false,
            "schema": {
              "$ref": "#/components/schemas/CursorDirection"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64",
              "minimum": 0
            }
          },
          {
            "name": "user_id",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "published_only",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Posts retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PostListResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Invalid query parameters"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      },
      "post": {
        "tags": [
          "Posts"
        ],
        "operationId": "create_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreatePostRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Post created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PostResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Invalid JSON or validation error"
          },
          "401": {
            "description": "Unauthorized - Invalid or expired session"
          },
          "500": {
            "description": "Internal Server Error"
          }
        },
        "security": [
          {
            "session_id_cookie": []
          }
        ]
      }
    },
    "/v0/posts/by-slug": {
      "get": {
        "tags": [
          "Posts"
        ],
        "operationId": "get_post_by_slug",
        "parameters": [
          {
            "name": "handle",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "slug",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Post found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PostResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Invalid query parameters or validation error"
          },
          "404": {
            "description": "Not Found - User or post does not exist"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/v0/posts/feed": {
      "get": {
        "tags": [
          "Posts"
        ],
        "operationId": "get_post_feed",
        "parameters": [
          {
            "name": "sort",
            "in": "query",
            "required": false,
            "schema": {
              "$ref": "#/components/schemas/PostSortOrder"
            }
          },
          {
            "name": "published_at_after",
            "in": "query",
            "description": "Only include posts published after this timestamp (for trending)",
            "required": false,
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          },
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "minimum": 0
            }
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "minimum": 0
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Post feed retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PostFeedResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Invalid query parameters"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/v0/posts/images": {
      "post": {
        "tags": [
          "Posts"
        ],
        "operationId": "upload_post_image",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/UploadPostImageRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Post image uploaded successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UploadPostImageResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid image or validation error"
          },
          "401": {
            "description": "Unauthorized - Invalid or expired session"
          },
          "413": {
            "description": "Payload Too Large - Image exceeds size limit"
          },
          "500": {
            "description": "Internal Server Error"
          }
        },
        "security": [
          {
            "session_id_cookie": []
          }
        ]
      }
    },
    "/v0/posts/{post_id}": {
      "get": {
        "tags": [
          "Posts"
        ],
        "operationId": "get_post",
        "parameters": [
          {
            "name": "post_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Post retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PostResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Invalid path parameter"
          },
          "404": {
            "description": "Not Found - Post does not exist"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      },
      "delete": {
        "tags": [
          "Posts"
        ],
        "operationId": "delete_post",
        "parameters": [
          {
            "name": "post_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Post deleted successfully"
          },
          "401": {
            "description": "Unauthorized - Invalid or expired session"
          },
          "403": {
            "description": "Forbidden - Not the post author"
          },
          "404": {
            "description": "Not Found - Post does not exist"
          },
          "500": {
            "description": "Internal Server Error"
          }
        },
        "security": [
          {
            "session_id_cookie": []
          }
        ]
      },
      "patch": {
        "tags": [
          "Posts"
        ],
        "operationId": "update_post",
        "parameters": [
          {
            "name": "post_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdatePostRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Post updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PostResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Invalid JSON or validation error"
          },
          "401": {
            "description": "Unauthorized - Invalid or expired session"
          },
          "403": {
            "description": "Forbidden - Not the post author"
          },
          "404": {
            "description": "Not Found - Post does not exist"
          },
          "500": {
            "description": "Internal Server Error"
          }
        },
        "security": [
          {
            "session_id_cookie": []
          }
        ]
      }
    },
    "/v0/posts/{post_id}/view": {
      "post": {
        "tags": [
          "Posts"
        ],
        "operationId": "increment_view",
        "parameters": [
          {
            "name": "post_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "View count incremented"
          },
          "400": {
            "description": "Bad request - Invalid path parameter"
          },
          "404": {
            "description": "Not Found - Post does not exist"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/v0/reports": {
      "get": {
        "tags": [
          "Reports"
        ],
        "operationId": "get_reports",
        "parameters": [
          {
            "name": "cursor_id",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "cursor_direction",
            "in": "query",
            "required": false,
            "schema": {
              "$ref": "#/components/schemas/CursorDirection"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64",
              "minimum": 0
            }
          },
          {
            "name": "reporter_id",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "target_type",
            "in": "query",
            "required": false,
            "schema": {
              "$ref": "#/components/schemas/ReportTargetType"
            }
          },
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": {
              "$ref": "#/components/schemas/ReportStatus"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Reports retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ReportListResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Invalid query parameters"
          },
          "401": {
            "description": "Unauthorized - Invalid or expired session"
          },
          "500": {
            "description": "Internal Server Error"
          }
        },
        "security": [
          {
            "session_id_cookie": []
          }
        ]
      },
      "post": {
        "tags": [
          "Reports"
        ],
        "operationId": "create_report",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateReportRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Report created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ReportResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Invalid JSON or validation error"
          },
          "401": {
            "description": "Unauthorized - Invalid or expired session"
          },
          "500": {
            "description": "Internal Server Error"
          }
        },
        "security": [
          {
            "session_id_cookie": []
          }
        ]
      }
    },
    "/v0/reports/{report_id}": {
      "patch": {
        "tags": [
          "Reports"
        ],
        "operationId": "update_report",
        "parameters": [
          {
            "name": "report_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateReportRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Report updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ReportResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Invalid JSON or validation error"
          },
          "401": {
            "description": "Unauthorized - Invalid or expired session"
          },
          "404": {
            "description": "Not Found - Report does not exist"
          },
          "500": {
            "description": "Internal Server Error"
          }
        },
        "security": [
          {
            "session_id_cookie": []
          }
        ]
      }
    },
    "/v0/search/posts": {
      "get": {
        "tags": [
          "Search"
        ],
        "operationId": "search_posts",
        "parameters": [
          {
            "name": "query",
            "in": "query",
            "description": "Search query for title, summary, author, or hashtags. Empty or omitted returns all posts.",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "user_id",
            "in": "query",
            "description": "Filter by author user ID",
            "required": false,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "published_at_after",
            "in": "query",
            "description": "Only include posts published after this timestamp (for trending: e.g. 7 days ago)",
            "required": false,
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          },
          {
            "name": "page",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32",
              "minimum": 0
            }
          },
          {
            "name": "page_size",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32",
              "minimum": 0
            }
          },
          {
            "name": "sort_by",
            "in": "query",
            "required": false,
            "schema": {
              "$ref": "#/components/schemas/PostSortField"
            }
          },
          {
            "name": "sort_order",
            "in": "query",
            "required": false,
            "schema": {
              "$ref": "#/components/schemas/SortOrder"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Post search results",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SearchPostsResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Invalid query parameters or validation error"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/v0/search/users": {
      "get": {
        "tags": [
          "Search"
        ],
        "operationId": "search_users",
        "parameters": [
          {
            "name": "query",
            "in": "query",
            "description": "Search query for handle, display_name, or bio. Empty or omitted returns all users.",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "page",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32",
              "minimum": 0
            }
          },
          {
            "name": "page_size",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32",
              "minimum": 0
            }
          }
        ],
        "responses": {
          "200": {
            "description": "User search results",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SearchUsersResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Invalid query parameters or validation error"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/v0/user/me": {
      "get": {
        "tags": [
          "User"
        ],
        "operationId": "get_my_profile",
        "responses": {
          "200": {
            "description": "Current user info",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Invalid or expired session"
          },
          "500": {
            "description": "Internal Server Error - Database error"
          }
        },
        "security": [
          {
            "session_id_cookie": []
          }
        ]
      },
      "patch": {
        "tags": [
          "User"
        ],
        "operationId": "update_my_profile",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateMyProfileRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Profile updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error"
          },
          "401": {
            "description": "Unauthorized - Invalid or expired session"
          },
          "500": {
            "description": "Internal Server Error"
          }
        },
        "security": [
          {
            "session_id_cookie": []
          }
        ]
      }
    },
    "/v0/user/me/banner-image": {
      "post": {
        "tags": [
          "User"
        ],
        "operationId": "upload_banner_image",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/UploadUserImageRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Banner image uploaded successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UploadUserImageResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid image or validation error"
          },
          "401": {
            "description": "Unauthorized - Invalid or expired session"
          },
          "413": {
            "description": "Payload Too Large - Image exceeds size limit"
          },
          "500": {
            "description": "Internal Server Error"
          }
        },
        "security": [
          {
            "session_id_cookie": []
          }
        ]
      },
      "delete": {
        "tags": [
          "User"
        ],
        "operationId": "delete_banner_image",
        "responses": {
          "204": {
            "description": "Banner image deleted successfully"
          },
          "401": {
            "description": "Unauthorized - Invalid or expired session"
          },
          "404": {
            "description": "Not Found - No banner image to delete"
          },
          "500": {
            "description": "Internal Server Error"
          }
        },
        "security": [
          {
            "session_id_cookie": []
          }
        ]
      }
    },
    "/v0/user/me/profile-image": {
      "post": {
        "tags": [
          "User"
        ],
        "operationId": "upload_profile_image",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/UploadUserImageRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Profile image uploaded successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UploadUserImageResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid image or validation error"
          },
          "401": {
            "description": "Unauthorized - Invalid or expired session"
          },
          "413": {
            "description": "Payload Too Large - Image exceeds size limit"
          },
          "500": {
            "description": "Internal Server Error"
          }
        },
        "security": [
          {
            "session_id_cookie": []
          }
        ]
      },
      "delete": {
        "tags": [
          "User"
        ],
        "operationId": "delete_profile_image",
        "responses": {
          "204": {
            "description": "Profile image deleted successfully"
          },
          "401": {
            "description": "Unauthorized - Invalid or expired session"
          },
          "404": {
            "description": "Not Found - No profile image to delete"
          },
          "500": {
            "description": "Internal Server Error"
          }
        },
        "security": [
          {
            "session_id_cookie": []
          }
        ]
      }
    },
    "/v0/users": {
      "post": {
        "tags": [
          "User"
        ],
        "operationId": "create_user",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateUserRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "User created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CreateUserResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Invalid JSON or validation error"
          },
          "409": {
            "description": "Conflict - User with this email or handle already exists"
          },
          "500": {
            "description": "Internal Server Error - Database or Redis error"
          },
          "502": {
            "description": "Bad Gateway - Worker service request failed or returned invalid response"
          },
          "503": {
            "description": "Service Unavailable - Worker service connection failed"
          }
        }
      }
    },
    "/v0/users/ban": {
      "post": {
        "tags": [
          "User Bans"
        ],
        "operationId": "ban_user",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BanUserRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "User banned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserBanResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Invalid JSON or validation error"
          },
          "401": {
            "description": "Unauthorized - Invalid or expired session"
          },
          "403": {
            "description": "Forbidden - Insufficient privileges"
          },
          "500": {
            "description": "Internal Server Error"
          }
        },
        "security": [
          {
            "session_id_cookie": []
          }
        ]
      }
    },
    "/v0/users/handle/{handle}/available": {
      "get": {
        "tags": [
          "User"
        ],
        "operationId": "check_handle_available",
        "parameters": [
          {
            "name": "handle",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Handle availability checked",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CheckHandleAvailableResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Invalid handle format"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/v0/users/profile": {
      "get": {
        "tags": [
          "User"
        ],
        "operationId": "get_user_profile",
        "parameters": [
          {
            "name": "handle",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "User profile retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PublicUserProfile"
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Invalid query parameters"
          },
          "404": {
            "description": "Not Found - User not found"
          },
          "500": {
            "description": "Internal Server Error - Database error"
          }
        }
      }
    },
    "/v0/users/profile/id": {
      "get": {
        "tags": [
          "User"
        ],
        "operationId": "get_user_profile_by_id",
        "parameters": [
          {
            "name": "user_id",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "User profile retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PublicUserProfile"
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Invalid query parameters"
          },
          "404": {
            "description": "Not Found - User not found"
          },
          "500": {
            "description": "Internal Server Error - Database error"
          }
        }
      }
    },
    "/v0/users/roles/grant": {
      "post": {
        "tags": [
          "User Roles"
        ],
        "operationId": "grant_role",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/GrantRoleRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Role granted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserRoleResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Invalid JSON or validation error"
          },
          "401": {
            "description": "Unauthorized - Invalid or expired session"
          },
          "403": {
            "description": "Forbidden - Insufficient privileges"
          },
          "500": {
            "description": "Internal Server Error"
          }
        },
        "security": [
          {
            "session_id_cookie": []
          }
        ]
      }
    },
    "/v0/users/roles/revoke": {
      "post": {
        "tags": [
          "User Roles"
        ],
        "operationId": "revoke_role",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RevokeRoleRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "204": {
            "description": "Role revoked successfully"
          },
          "400": {
            "description": "Bad request - Invalid JSON or validation error"
          },
          "401": {
            "description": "Unauthorized - Invalid or expired session"
          },
          "403": {
            "description": "Forbidden - Insufficient privileges"
          },
          "404": {
            "description": "Not Found - User does not have this role"
          },
          "500": {
            "description": "Internal Server Error"
          }
        },
        "security": [
          {
            "session_id_cookie": []
          }
        ]
      }
    },
    "/v0/users/unban": {
      "post": {
        "tags": [
          "User Bans"
        ],
        "operationId": "unban_user",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UnbanUserRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "204": {
            "description": "User unbanned successfully"
          },
          "400": {
            "description": "Bad request - Invalid JSON or validation error"
          },
          "401": {
            "description": "Unauthorized - Invalid or expired session"
          },
          "403": {
            "description": "Forbidden - Insufficient privileges"
          },
          "404": {
            "description": "Not Found - No active ban"
          },
          "500": {
            "description": "Internal Server Error"
          }
        },
        "security": [
          {
            "session_id_cookie": []
          }
        ]
      }
    },
    "/v0/users/{user_id}/bans": {
      "get": {
        "tags": [
          "User Bans"
        ],
        "operationId": "get_user_bans",
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "User bans retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/UserBanResponse"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Invalid path parameter"
          },
          "401": {
            "description": "Unauthorized - Invalid or expired session"
          },
          "500": {
            "description": "Internal Server Error"
          }
        },
        "security": [
          {
            "session_id_cookie": []
          }
        ]
      }
    },
    "/v0/users/{user_id}/roles": {
      "get": {
        "tags": [
          "User Roles"
        ],
        "operationId": "get_user_roles",
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "User roles retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/UserRoleResponse"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Invalid path parameter"
          },
          "404": {
            "description": "Not Found - User does not exist"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "ActionLogAction": {
        "type": "string",
        "description": "Action Log Action enum (action_logs.action 필드에 저장됨)\n포맷: \"{resource}:{operation}\"",
        "enum": [
          "post:create",
          "post:edit",
          "post:delete",
          "user:create",
          "user:edit",
          "auth:login",
          "auth:logout",
          "auth:oauth_login",
          "oauth:link",
          "oauth:unlink"
        ]
      },
      "ActionLogListResponse": {
        "type": "object",
        "required": [
          "data",
          "has_newer",
          "has_older"
        ],
        "properties": {
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ActionLogResponse"
            }
          },
          "has_newer": {
            "type": "boolean",
            "description": "Whether there are newer (more recent) action logs"
          },
          "has_older": {
            "type": "boolean",
            "description": "Whether there are older action logs"
          }
        }
      },
      "ActionLogResponse": {
        "type": "object",
        "required": [
          "id",
          "action",
          "resource_type",
          "summary",
          "created_at"
        ],
        "properties": {
          "action": {
            "type": "string"
          },
          "actor_id": {
            "type": [
              "string",
              "null"
            ],
            "format": "uuid"
          },
          "actor_ip": {
            "type": [
              "string",
              "null"
            ]
          },
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "metadata": {
            "type": [
              "object",
              "null"
            ]
          },
          "resource_id": {
            "type": [
              "string",
              "null"
            ],
            "format": "uuid"
          },
          "resource_type": {
            "$ref": "#/components/schemas/ActionResourceType"
          },
          "summary": {
            "type": "string"
          }
        }
      },
      "ActionResourceType": {
        "type": "string",
        "enum": [
          "User",
          "Post"
        ]
      },
      "BanUserRequest": {
        "type": "object",
        "required": [
          "user_id",
          "reason"
        ],
        "properties": {
          "expires_at": {
            "type": [
              "string",
              "null"
            ],
            "format": "date-time"
          },
          "reason": {
            "type": "string"
          },
          "user_id": {
            "type": "string",
            "format": "uuid"
          }
        }
      },
      "ChangeEmailRequest": {
        "type": "object",
        "required": [
          "password",
          "new_email"
        ],
        "properties": {
          "new_email": {
            "type": "string",
            "description": "새 이메일 주소"
          },
          "password": {
            "type": "string",
            "description": "현재 비밀번호 (본인 확인용)"
          }
        }
      },
      "ChangePasswordRequest": {
        "type": "object",
        "required": [
          "current_password",
          "new_password"
        ],
        "properties": {
          "current_password": {
            "type": "string",
            "description": "현재 비밀번호"
          },
          "new_password": {
            "type": "string",
            "description": "새 비밀번호"
          }
        }
      },
      "CheckHandleAvailablePath": {
        "type": "object",
        "required": [
          "handle"
        ],
        "properties": {
          "handle": {
            "type": "string"
          }
        }
      },
      "CheckHandleAvailableResponse": {
        "type": "object",
        "required": [
          "available"
        ],
        "properties": {
          "available": {
            "type": "boolean"
          }
        }
      },
      "CommentAuthor": {
        "type": "object",
        "required": [
          "id",
          "handle",
          "display_name"
        ],
        "properties": {
          "display_name": {
            "type": "string"
          },
          "handle": {
            "type": "string"
          },
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "profile_image": {
            "type": [
              "string",
              "null"
            ]
          }
        }
      },
      "CommentIdPath": {
        "type": "object",
        "required": [
          "comment_id"
        ],
        "properties": {
          "comment_id": {
            "type": "string",
            "format": "uuid"
          }
        }
      },
      "CommentListResponse": {
        "type": "object",
        "required": [
          "data",
          "has_newer",
          "has_older"
        ],
        "properties": {
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/CommentResponse"
            }
          },
          "has_newer": {
            "type": "boolean"
          },
          "has_older": {
            "type": "boolean"
          }
        }
      },
      "CommentResponse": {
        "type": "object",
        "required": [
          "id",
          "post_id",
          "user_id",
          "author",
          "depth",
          "content",
          "like_count",
          "created_at",
          "updated_at"
        ],
        "properties": {
          "author": {
            "$ref": "#/components/schemas/CommentAuthor"
          },
          "content": {
            "type": "string"
          },
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "deleted_at": {
            "type": [
              "string",
              "null"
            ],
            "format": "date-time"
          },
          "depth": {
            "type": "integer",
            "format": "int32"
          },
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "like_count": {
            "type": "integer",
            "format": "int32"
          },
          "parent_id": {
            "type": [
              "string",
              "null"
            ],
            "format": "uuid"
          },
          "post_id": {
            "type": "string",
            "format": "uuid"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time"
          },
          "user_id": {
            "type": "string",
            "format": "uuid"
          }
        }
      },
      "CompleteSignupRequest": {
        "type": "object",
        "description": "OAuth pending signup 완료 요청",
        "required": [
          "pending_token",
          "handle"
        ],
        "properties": {
          "handle": {
            "type": "string",
            "description": "사용자 핸들 (고유 식별자)"
          },
          "pending_token": {
            "type": "string",
            "description": "Pending signup 토큰 (OAuth 로그인 시 반환됨)"
          }
        }
      },
      "ConfirmEmailChangeRequest": {
        "type": "object",
        "required": [
          "token"
        ],
        "properties": {
          "token": {
            "type": "string",
            "description": "이메일 변경 토큰 (이메일 링크의 ?token= 값)"
          }
        }
      },
      "CreateCommentRequest": {
        "type": "object",
        "required": [
          "post_id",
          "content"
        ],
        "properties": {
          "content": {
            "type": "string"
          },
          "parent_id": {
            "type": [
              "string",
              "null"
            ],
            "format": "uuid"
          },
          "post_id": {
            "type": "string",
            "format": "uuid"
          }
        }
      },
      "CreatePostRequest": {
        "type": "object",
        "required": [
          "title",
          "slug",
          "content"
        ],
        "properties": {
          "content": {
            "type": "string"
          },
          "hashtags": {
            "type": [
              "array",
              "null"
            ],
            "items": {
              "type": "string"
            }
          },
          "publish": {
            "type": [
              "boolean",
              "null"
            ]
          },
          "slug": {
            "type": "string"
          },
          "summary": {
            "type": [
              "string",
              "null"
            ]
          },
          "thumbnail_image": {
            "type": [
              "string",
              "null"
            ]
          },
          "title": {
            "type": "string"
          }
        }
      },
      "CreateReportRequest": {
        "type": "object",
        "required": [
          "target_type",
          "target_id",
          "reason"
        ],
        "properties": {
          "description": {
            "type": [
              "string",
              "null"
            ]
          },
          "reason": {
            "type": "string"
          },
          "target_id": {
            "type": "string",
            "format": "uuid"
          },
          "target_type": {
            "$ref": "#/components/schemas/ReportTargetType"
          }
        }
      },
      "CreateUserRequest": {
        "type": "object",
        "required": [
          "email",
          "handle",
          "display_name",
          "password"
        ],
        "properties": {
          "display_name": {
            "type": "string"
          },
          "email": {
            "type": "string",
            "example": "user@example.com"
          },
          "handle": {
            "type": "string"
          },
          "password": {
            "type": "string"
          }
        }
      },
      "CreateUserResponse": {
        "type": "object",
        "required": [
          "message"
        ],
        "properties": {
          "message": {
            "type": "string"
          }
        }
      },
      "CursorDirection": {
        "type": "string",
        "description": "Common cursor direction for bidirectional pagination",
        "enum": [
          "Older",
          "Newer"
        ]
      },
      "DraftIdPath": {
        "type": "object",
        "required": [
          "draft_id"
        ],
        "properties": {
          "draft_id": {
            "type": "string",
            "format": "uuid"
          }
        }
      },
      "DraftListResponse": {
        "type": "object",
        "required": [
          "data"
        ],
        "properties": {
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/DraftResponse"
            }
          }
        }
      },
      "DraftResponse": {
        "type": "object",
        "required": [
          "id",
          "user_id",
          "created_at",
          "updated_at"
        ],
        "properties": {
          "content": {
            "type": [
              "string",
              "null"
            ]
          },
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "metadata": {
            "type": [
              "object",
              "null"
            ]
          },
          "slug": {
            "type": [
              "string",
              "null"
            ]
          },
          "title": {
            "type": [
              "string",
              "null"
            ]
          },
          "updated_at": {
            "type": "string",
            "format": "date-time"
          },
          "user_id": {
            "type": "string",
            "format": "uuid"
          }
        }
      },
      "ErrorResponse": {
        "type": "object",
        "required": [
          "status",
          "code"
        ],
        "properties": {
          "code": {
            "type": "string"
          },
          "details": {
            "type": [
              "string",
              "null"
            ]
          },
          "status": {
            "type": "integer",
            "format": "int32",
            "minimum": 0
          }
        }
      },
      "FollowListResponse": {
        "type": "object",
        "required": [
          "data",
          "has_newer",
          "has_older"
        ],
        "properties": {
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/FollowUserItem"
            }
          },
          "has_newer": {
            "type": "boolean"
          },
          "has_older": {
            "type": "boolean"
          }
        }
      },
      "FollowRequest": {
        "type": "object",
        "required": [
          "followee_id"
        ],
        "properties": {
          "followee_id": {
            "type": "string",
            "format": "uuid"
          }
        }
      },
      "FollowStatusResponse": {
        "type": "object",
        "required": [
          "following"
        ],
        "properties": {
          "following": {
            "type": "boolean"
          }
        }
      },
      "FollowUserItem": {
        "type": "object",
        "required": [
          "id",
          "handle",
          "display_name",
          "followed_at"
        ],
        "properties": {
          "display_name": {
            "type": "string"
          },
          "followed_at": {
            "type": "string",
            "format": "date-time"
          },
          "handle": {
            "type": "string"
          },
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "profile_image": {
            "type": [
              "string",
              "null"
            ]
          }
        }
      },
      "ForgotPasswordRequest": {
        "type": "object",
        "required": [
          "email"
        ],
        "properties": {
          "email": {
            "type": "string",
            "description": "비밀번호 재설정을 요청할 이메일 주소"
          }
        }
      },
      "GetActionLogsRequest": {
        "type": "object",
        "required": [
          "limit"
        ],
        "properties": {
          "actions": {
            "type": [
              "array",
              "null"
            ],
            "items": {
              "$ref": "#/components/schemas/ActionLogAction"
            },
            "description": "Filter by actions"
          },
          "cursor_direction": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/CursorDirection",
                "description": "Cursor direction (default: Older when cursor_id is provided)"
              }
            ]
          },
          "cursor_id": {
            "type": [
              "string",
              "null"
            ],
            "format": "uuid",
            "description": "Cursor ID for pagination. None means get latest."
          },
          "limit": {
            "type": "integer",
            "format": "int64",
            "description": "Number of items to return (max: 100)",
            "minimum": 0
          },
          "resource_id": {
            "type": [
              "string",
              "null"
            ],
            "format": "uuid",
            "description": "Filter by resource ID"
          },
          "resource_type": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/ActionResourceType",
                "description": "Filter by resource type"
              }
            ]
          },
          "user_id": {
            "type": [
              "string",
              "null"
            ],
            "format": "uuid",
            "description": "Filter by user ID (for contributions)"
          }
        }
      },
      "GetCommentsRequest": {
        "type": "object",
        "required": [
          "post_id",
          "limit"
        ],
        "properties": {
          "cursor_direction": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/CursorDirection"
              }
            ]
          },
          "cursor_id": {
            "type": [
              "string",
              "null"
            ],
            "format": "uuid"
          },
          "limit": {
            "type": "integer",
            "format": "int64",
            "minimum": 0
          },
          "post_id": {
            "type": "string",
            "format": "uuid"
          }
        }
      },
      "GetFollowersRequest": {
        "type": "object",
        "required": [
          "user_id",
          "limit"
        ],
        "properties": {
          "cursor_direction": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/CursorDirection"
              }
            ]
          },
          "cursor_id": {
            "type": [
              "string",
              "null"
            ],
            "format": "uuid"
          },
          "limit": {
            "type": "integer",
            "format": "int64",
            "minimum": 0
          },
          "user_id": {
            "type": "string",
            "format": "uuid"
          }
        }
      },
      "GetFollowingRequest": {
        "type": "object",
        "required": [
          "user_id",
          "limit"
        ],
        "properties": {
          "cursor_direction": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/CursorDirection"
              }
            ]
          },
          "cursor_id": {
            "type": [
              "string",
              "null"
            ],
            "format": "uuid"
          },
          "limit": {
            "type": "integer",
            "format": "int64",
            "minimum": 0
          },
          "user_id": {
            "type": "string",
            "format": "uuid"
          }
        }
      },
      "GetModerationLogsRequest": {
        "type": "object",
        "required": [
          "limit"
        ],
        "properties": {
          "actor_id": {
            "type": [
              "string",
              "null"
            ],
            "format": "uuid"
          },
          "cursor_direction": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/CursorDirection"
              }
            ]
          },
          "cursor_id": {
            "type": [
              "string",
              "null"
            ],
            "format": "uuid"
          },
          "limit": {
            "type": "integer",
            "format": "int64",
            "minimum": 0
          },
          "resource_id": {
            "type": [
              "string",
              "null"
            ],
            "format": "uuid"
          },
          "resource_type": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/ModerationResourceType"
              }
            ]
          }
        }
      },
      "GetPostBySlugRequest": {
        "type": "object",
        "required": [
          "handle",
          "slug"
        ],
        "properties": {
          "handle": {
            "type": "string"
          },
          "slug": {
            "type": "string"
          }
        }
      },
      "GetPostFeedRequest": {
        "type": "object",
        "properties": {
          "page": {
            "type": [
              "integer",
              "null"
            ],
            "format": "int32",
            "minimum": 0
          },
          "page_size": {
            "type": [
              "integer",
              "null"
            ],
            "format": "int32",
            "minimum": 0
          },
          "published_at_after": {
            "type": [
              "string",
              "null"
            ],
            "format": "date-time",
            "description": "Only include posts published after this timestamp (for trending)"
          },
          "sort": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/PostSortOrder"
              }
            ]
          }
        }
      },
      "GetPostsRequest": {
        "type": "object",
        "required": [
          "limit"
        ],
        "properties": {
          "cursor_direction": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/CursorDirection"
              }
            ]
          },
          "cursor_id": {
            "type": [
              "string",
              "null"
            ],
            "format": "uuid"
          },
          "limit": {
            "type": "integer",
            "format": "int64",
            "minimum": 0
          },
          "published_only": {
            "type": [
              "boolean",
              "null"
            ]
          },
          "user_id": {
            "type": [
              "string",
              "null"
            ],
            "format": "uuid"
          }
        }
      },
      "GetReportsRequest": {
        "type": "object",
        "required": [
          "limit"
        ],
        "properties": {
          "cursor_direction": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/CursorDirection"
              }
            ]
          },
          "cursor_id": {
            "type": [
              "string",
              "null"
            ],
            "format": "uuid"
          },
          "limit": {
            "type": "integer",
            "format": "int64",
            "minimum": 0
          },
          "reporter_id": {
            "type": [
              "string",
              "null"
            ],
            "format": "uuid"
          },
          "status": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/ReportStatus"
              }
            ]
          },
          "target_type": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/ReportTargetType"
              }
            ]
          }
        }
      },
      "GetUserProfileByIdRequest": {
        "type": "object",
        "required": [
          "user_id"
        ],
        "properties": {
          "user_id": {
            "type": "string",
            "format": "uuid"
          }
        }
      },
      "GetUserProfileRequest": {
        "type": "object",
        "required": [
          "handle"
        ],
        "properties": {
          "handle": {
            "type": "string"
          }
        }
      },
      "GithubLinkRequest": {
        "type": "object",
        "description": "GitHub OAuth 연결 요청",
        "required": [
          "code",
          "state"
        ],
        "properties": {
          "code": {
            "type": "string",
            "description": "Authorization code from GitHub OAuth callback"
          },
          "state": {
            "type": "string",
            "description": "State parameter for CSRF protection"
          }
        }
      },
      "GithubLoginRequest": {
        "type": "object",
        "description": "GitHub OAuth 로그인 요청",
        "required": [
          "code",
          "state"
        ],
        "properties": {
          "code": {
            "type": "string",
            "description": "Authorization code from GitHub OAuth callback"
          },
          "state": {
            "type": "string",
            "description": "State parameter for CSRF protection"
          }
        }
      },
      "GoogleLinkRequest": {
        "type": "object",
        "description": "Google OAuth 연결 요청",
        "required": [
          "code",
          "state"
        ],
        "properties": {
          "code": {
            "type": "string",
            "description": "Authorization code from Google OAuth callback"
          },
          "state": {
            "type": "string",
            "description": "State parameter for CSRF protection"
          }
        }
      },
      "GoogleLoginRequest": {
        "type": "object",
        "description": "Google OAuth 로그인 요청",
        "required": [
          "code",
          "state"
        ],
        "properties": {
          "code": {
            "type": "string",
            "description": "Authorization code from Google OAuth callback"
          },
          "state": {
            "type": "string",
            "description": "State parameter for CSRF protection"
          }
        }
      },
      "GrantRoleRequest": {
        "type": "object",
        "required": [
          "user_id",
          "role"
        ],
        "properties": {
          "role": {
            "$ref": "#/components/schemas/UserRole"
          },
          "user_id": {
            "type": "string",
            "format": "uuid"
          }
        }
      },
      "HashtagResponse": {
        "type": "object",
        "required": [
          "id",
          "name",
          "usage_count",
          "created_at"
        ],
        "properties": {
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "last_used_at": {
            "type": [
              "string",
              "null"
            ],
            "format": "date-time"
          },
          "name": {
            "type": "string"
          },
          "usage_count": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "LikeRequest": {
        "type": "object",
        "required": [
          "target_type",
          "target_id"
        ],
        "properties": {
          "target_id": {
            "type": "string",
            "format": "uuid"
          },
          "target_type": {
            "$ref": "#/components/schemas/LikeTargetType"
          }
        }
      },
      "LikeStatusResponse": {
        "type": "object",
        "required": [
          "liked"
        ],
        "properties": {
          "liked": {
            "type": "boolean"
          }
        }
      },
      "LikeTargetType": {
        "type": "string",
        "enum": [
          "Post",
          "Comment"
        ]
      },
      "LoginRequest": {
        "type": "object",
        "required": [
          "email",
          "password"
        ],
        "properties": {
          "email": {
            "type": "string",
            "example": "user@example.com"
          },
          "password": {
            "type": "string"
          },
          "remember_me": {
            "type": "boolean",
            "description": "로그인 유지 여부 (체크 시 30일, 미체크 시 브라우저 닫으면 만료)",
            "example": false
          }
        }
      },
      "ModerationLogListResponse": {
        "type": "object",
        "required": [
          "data",
          "has_newer",
          "has_older"
        ],
        "properties": {
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ModerationLogResponse"
            }
          },
          "has_newer": {
            "type": "boolean"
          },
          "has_older": {
            "type": "boolean"
          }
        }
      },
      "ModerationLogResponse": {
        "type": "object",
        "required": [
          "id",
          "action",
          "actor_id",
          "resource_type",
          "created_at"
        ],
        "properties": {
          "action": {
            "type": "string"
          },
          "actor_id": {
            "type": "string",
            "format": "uuid"
          },
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "metadata": {
            "type": [
              "object",
              "null"
            ]
          },
          "reason": {
            "type": [
              "string",
              "null"
            ]
          },
          "resource_id": {
            "type": [
              "string",
              "null"
            ],
            "format": "uuid"
          },
          "resource_type": {
            "$ref": "#/components/schemas/ModerationResourceType"
          }
        }
      },
      "ModerationResourceType": {
        "type": "string",
        "enum": [
          "User",
          "Post",
          "Comment",
          "System"
        ]
      },
      "OAuthConnectionListResponse": {
        "type": "object",
        "description": "OAuth 연결 목록 응답",
        "required": [
          "connections"
        ],
        "properties": {
          "connections": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/OAuthConnectionResponse"
            }
          }
        }
      },
      "OAuthConnectionResponse": {
        "type": "object",
        "description": "OAuth 연결 정보 응답",
        "required": [
          "provider",
          "created_at"
        ],
        "properties": {
          "created_at": {
            "type": "string",
            "format": "date-time",
            "description": "연결 생성 시각"
          },
          "provider": {
            "$ref": "#/components/schemas/OAuthProvider",
            "description": "OAuth provider (Google, Github)"
          }
        }
      },
      "OAuthPendingSignupResponse": {
        "type": "object",
        "description": "신규 사용자가 handle 없이 OAuth 로그인 시 반환되는 pending signup 응답",
        "required": [
          "pending_token",
          "email",
          "display_name"
        ],
        "properties": {
          "display_name": {
            "type": "string",
            "description": "OAuth provider로부터 받은 표시 이름"
          },
          "email": {
            "type": "string",
            "description": "OAuth provider로부터 받은 이메일"
          },
          "pending_token": {
            "type": "string",
            "description": "Pending signup 완료를 위한 일회용 토큰"
          }
        }
      },
      "OAuthProvider": {
        "type": "string",
        "enum": [
          "Google",
          "Github",
          "Discord",
          "X",
          "Microsoft"
        ]
      },
      "OAuthUrlResponse": {
        "type": "object",
        "description": "OAuth authorization URL 응답",
        "required": [
          "auth_url"
        ],
        "properties": {
          "auth_url": {
            "type": "string",
            "description": "Google/GitHub OAuth authorization URL (state parameter 포함)"
          }
        }
      },
      "PostAuthor": {
        "type": "object",
        "required": [
          "id",
          "handle",
          "display_name"
        ],
        "properties": {
          "display_name": {
            "type": "string"
          },
          "handle": {
            "type": "string"
          },
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "profile_image": {
            "type": [
              "string",
              "null"
            ]
          }
        }
      },
      "PostFeedItem": {
        "type": "object",
        "required": [
          "id",
          "user_id",
          "author_handle",
          "author_display_name",
          "title",
          "slug",
          "hashtags",
          "like_count",
          "comment_count",
          "view_count",
          "created_at"
        ],
        "properties": {
          "author_display_name": {
            "type": "string"
          },
          "author_handle": {
            "type": "string"
          },
          "author_profile_image": {
            "type": [
              "string",
              "null"
            ]
          },
          "comment_count": {
            "type": "integer",
            "format": "int32"
          },
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "hashtags": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "like_count": {
            "type": "integer",
            "format": "int32"
          },
          "published_at": {
            "type": [
              "string",
              "null"
            ],
            "format": "date-time"
          },
          "slug": {
            "type": "string"
          },
          "summary": {
            "type": [
              "string",
              "null"
            ]
          },
          "thumbnail_image": {
            "type": [
              "string",
              "null"
            ]
          },
          "title": {
            "type": "string"
          },
          "user_id": {
            "type": "string",
            "format": "uuid"
          },
          "view_count": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "PostFeedResponse": {
        "type": "object",
        "required": [
          "data",
          "page",
          "page_size",
          "has_more",
          "total_count"
        ],
        "properties": {
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/PostFeedItem"
            }
          },
          "has_more": {
            "type": "boolean"
          },
          "page": {
            "type": "integer",
            "format": "int32",
            "minimum": 0
          },
          "page_size": {
            "type": "integer",
            "format": "int32",
            "minimum": 0
          },
          "total_count": {
            "type": "integer",
            "format": "int64",
            "minimum": 0
          }
        }
      },
      "PostIdPath": {
        "type": "object",
        "required": [
          "post_id"
        ],
        "properties": {
          "post_id": {
            "type": "string",
            "format": "uuid"
          }
        }
      },
      "PostListResponse": {
        "type": "object",
        "required": [
          "data",
          "has_newer",
          "has_older"
        ],
        "properties": {
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/PostResponse"
            }
          },
          "has_newer": {
            "type": "boolean"
          },
          "has_older": {
            "type": "boolean"
          }
        }
      },
      "PostResponse": {
        "type": "object",
        "required": [
          "id",
          "user_id",
          "author",
          "title",
          "slug",
          "content",
          "like_count",
          "comment_count",
          "view_count",
          "hashtags",
          "created_at",
          "updated_at"
        ],
        "properties": {
          "author": {
            "$ref": "#/components/schemas/PostAuthor"
          },
          "comment_count": {
            "type": "integer",
            "format": "int32"
          },
          "content": {
            "type": "string"
          },
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "hashtags": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "like_count": {
            "type": "integer",
            "format": "int32"
          },
          "published_at": {
            "type": [
              "string",
              "null"
            ],
            "format": "date-time"
          },
          "render": {
            "type": [
              "string",
              "null"
            ]
          },
          "slug": {
            "type": "string"
          },
          "summary": {
            "type": [
              "string",
              "null"
            ]
          },
          "thumbnail_image": {
            "type": [
              "string",
              "null"
            ]
          },
          "title": {
            "type": "string"
          },
          "toc": {
            "type": [
              "object",
              "null"
            ]
          },
          "updated_at": {
            "type": "string",
            "format": "date-time"
          },
          "user_id": {
            "type": "string",
            "format": "uuid"
          },
          "view_count": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "PostSearchItem": {
        "type": "object",
        "required": [
          "id",
          "user_id",
          "author_handle",
          "author_display_name",
          "title",
          "slug",
          "hashtags",
          "like_count",
          "comment_count",
          "view_count",
          "created_at"
        ],
        "properties": {
          "author_display_name": {
            "type": "string"
          },
          "author_handle": {
            "type": "string"
          },
          "author_profile_image": {
            "type": [
              "string",
              "null"
            ]
          },
          "comment_count": {
            "type": "integer",
            "format": "int32"
          },
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "hashtags": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "like_count": {
            "type": "integer",
            "format": "int32"
          },
          "published_at": {
            "type": [
              "string",
              "null"
            ],
            "format": "date-time"
          },
          "slug": {
            "type": "string"
          },
          "summary": {
            "type": [
              "string",
              "null"
            ]
          },
          "thumbnail_image": {
            "type": [
              "string",
              "null"
            ]
          },
          "title": {
            "type": "string"
          },
          "user_id": {
            "type": "string",
            "format": "uuid"
          },
          "view_count": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "PostSortField": {
        "type": "string",
        "enum": [
          "CreatedAt",
          "LikeCount",
          "ViewCount",
          "CommentCount"
        ]
      },
      "PostSortOrder": {
        "type": "string",
        "enum": [
          "Latest",
          "Popular",
          "Oldest"
        ]
      },
      "PublicUserProfile": {
        "type": "object",
        "required": [
          "id",
          "handle",
          "display_name",
          "follower_count",
          "following_count",
          "is_verified",
          "created_at"
        ],
        "properties": {
          "banner_image": {
            "type": [
              "string",
              "null"
            ]
          },
          "bio": {
            "type": [
              "string",
              "null"
            ]
          },
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "display_name": {
            "type": "string"
          },
          "follower_count": {
            "type": "integer",
            "format": "int32"
          },
          "following_count": {
            "type": "integer",
            "format": "int32"
          },
          "handle": {
            "type": "string"
          },
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "is_verified": {
            "type": "boolean"
          },
          "profile_image": {
            "type": [
              "string",
              "null"
            ]
          }
        }
      },
      "PublishDraftRequest": {
        "type": "object",
        "properties": {
          "delete_draft": {
            "type": [
              "boolean",
              "null"
            ]
          },
          "hashtags": {
            "type": [
              "array",
              "null"
            ],
            "items": {
              "type": "string"
            }
          },
          "slug": {
            "type": [
              "string",
              "null"
            ]
          },
          "summary": {
            "type": [
              "string",
              "null"
            ]
          },
          "thumbnail_image": {
            "type": [
              "string",
              "null"
            ]
          }
        }
      },
      "ReportIdPath": {
        "type": "object",
        "required": [
          "report_id"
        ],
        "properties": {
          "report_id": {
            "type": "string",
            "format": "uuid"
          }
        }
      },
      "ReportListResponse": {
        "type": "object",
        "required": [
          "data",
          "has_newer",
          "has_older"
        ],
        "properties": {
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ReportResponse"
            }
          },
          "has_newer": {
            "type": "boolean"
          },
          "has_older": {
            "type": "boolean"
          }
        }
      },
      "ReportResponse": {
        "type": "object",
        "required": [
          "id",
          "reporter_id",
          "target_type",
          "target_id",
          "reason",
          "status",
          "created_at"
        ],
        "properties": {
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "description": {
            "type": [
              "string",
              "null"
            ]
          },
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "reason": {
            "type": "string"
          },
          "reporter_id": {
            "type": "string",
            "format": "uuid"
          },
          "resolved_at": {
            "type": [
              "string",
              "null"
            ],
            "format": "date-time"
          },
          "resolved_by": {
            "type": [
              "string",
              "null"
            ],
            "format": "uuid"
          },
          "status": {
            "$ref": "#/components/schemas/ReportStatus"
          },
          "target_id": {
            "type": "string",
            "format": "uuid"
          },
          "target_type": {
            "$ref": "#/components/schemas/ReportTargetType"
          }
        }
      },
      "ReportStatus": {
        "type": "string",
        "enum": [
          "Pending",
          "Reviewing",
          "Resolved",
          "Dismissed"
        ]
      },
      "ReportTargetType": {
        "type": "string",
        "enum": [
          "User",
          "Post",
          "Comment"
        ]
      },
      "ResetPasswordRequest": {
        "type": "object",
        "required": [
          "token",
          "new_password"
        ],
        "properties": {
          "new_password": {
            "type": "string",
            "description": "새 비밀번호"
          },
          "token": {
            "type": "string",
            "description": "비밀번호 재설정 토큰 (이메일 링크의 ?token= 값)"
          }
        }
      },
      "RevokeRoleRequest": {
        "type": "object",
        "required": [
          "user_id",
          "role"
        ],
        "properties": {
          "role": {
            "$ref": "#/components/schemas/UserRole"
          },
          "user_id": {
            "type": "string",
            "format": "uuid"
          }
        }
      },
      "SearchPostsRequest": {
        "type": "object",
        "required": [
          "page",
          "page_size"
        ],
        "properties": {
          "page": {
            "type": "integer",
            "format": "int32",
            "minimum": 0
          },
          "page_size": {
            "type": "integer",
            "format": "int32",
            "minimum": 0
          },
          "published_at_after": {
            "type": [
              "string",
              "null"
            ],
            "format": "date-time",
            "description": "Only include posts published after this timestamp (for trending: e.g. 7 days ago)"
          },
          "query": {
            "type": [
              "string",
              "null"
            ],
            "description": "Search query for title, summary, author, or hashtags. Empty or omitted returns all posts."
          },
          "sort_by": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/PostSortField"
              }
            ]
          },
          "sort_order": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/SortOrder"
              }
            ]
          },
          "user_id": {
            "type": [
              "string",
              "null"
            ],
            "format": "uuid",
            "description": "Filter by author user ID"
          }
        }
      },
      "SearchPostsResponse": {
        "type": "object",
        "required": [
          "posts",
          "page",
          "page_size",
          "total_hits",
          "total_pages"
        ],
        "properties": {
          "page": {
            "type": "integer",
            "format": "int32",
            "minimum": 0
          },
          "page_size": {
            "type": "integer",
            "format": "int32",
            "minimum": 0
          },
          "posts": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/PostSearchItem"
            }
          },
          "total_hits": {
            "type": "integer",
            "format": "int64",
            "minimum": 0
          },
          "total_pages": {
            "type": "integer",
            "format": "int32",
            "minimum": 0
          }
        }
      },
      "SearchUsersRequest": {
        "type": "object",
        "required": [
          "page",
          "page_size"
        ],
        "properties": {
          "page": {
            "type": "integer",
            "format": "int32",
            "minimum": 0
          },
          "page_size": {
            "type": "integer",
            "format": "int32",
            "minimum": 0
          },
          "query": {
            "type": [
              "string",
              "null"
            ],
            "description": "Search query for handle, display_name, or bio. Empty or omitted returns all users."
          }
        }
      },
      "SearchUsersResponse": {
        "type": "object",
        "required": [
          "users",
          "page",
          "page_size",
          "total_hits",
          "total_pages"
        ],
        "properties": {
          "page": {
            "type": "integer",
            "format": "int32",
            "minimum": 0
          },
          "page_size": {
            "type": "integer",
            "format": "int32",
            "minimum": 0
          },
          "total_hits": {
            "type": "integer",
            "format": "int64",
            "minimum": 0
          },
          "total_pages": {
            "type": "integer",
            "format": "int32",
            "minimum": 0
          },
          "users": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/UserSearchItem"
            }
          }
        }
      },
      "SortOrder": {
        "type": "string",
        "enum": [
          "Asc",
          "Desc"
        ]
      },
      "TotpBackupCodesResponse": {
        "type": "object",
        "description": "백업 코드 재생성 응답",
        "required": [
          "backup_codes"
        ],
        "properties": {
          "backup_codes": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "새로 생성된 백업 코드 목록 (10개, 8자리 영숫자)"
          }
        }
      },
      "TotpDisableRequest": {
        "type": "object",
        "description": "TOTP 비활성화 요청",
        "required": [
          "code"
        ],
        "properties": {
          "code": {
            "type": "string",
            "description": "현재 TOTP 코드 (6자리) 또는 백업 코드 (8자리)"
          }
        }
      },
      "TotpEnableRequest": {
        "type": "object",
        "description": "TOTP 활성화 요청 (setup 후 첫 코드 검증)",
        "required": [
          "code"
        ],
        "properties": {
          "code": {
            "type": "string",
            "description": "인증 앱에서 생성한 6자리 TOTP 코드"
          }
        }
      },
      "TotpEnableResponse": {
        "type": "object",
        "description": "TOTP 활성화 응답 (백업 코드 반환)",
        "required": [
          "backup_codes"
        ],
        "properties": {
          "backup_codes": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "백업 코드 목록 (10개, 8자리 영숫자)"
          }
        }
      },
      "TotpRegenerateBackupCodesRequest": {
        "type": "object",
        "description": "백업 코드 재생성 요청",
        "required": [
          "code"
        ],
        "properties": {
          "code": {
            "type": "string",
            "description": "현재 TOTP 코드 (6자리)"
          }
        }
      },
      "TotpRequiredResponse": {
        "type": "object",
        "description": "로그인 시 TOTP 필요 응답 (202 Accepted)",
        "required": [
          "temp_token"
        ],
        "properties": {
          "temp_token": {
            "type": "string",
            "description": "TOTP 검증용 임시 토큰"
          }
        }
      },
      "TotpSetupResponse": {
        "type": "object",
        "description": "TOTP Setup 응답",
        "required": [
          "qr_code_base64",
          "qr_code_uri"
        ],
        "properties": {
          "qr_code_base64": {
            "type": "string",
            "description": "QR 코드 PNG 이미지 (Base64 인코딩)"
          },
          "qr_code_uri": {
            "type": "string",
            "description": "otpauth:// URI (수동 입력용)"
          }
        }
      },
      "TotpStatusResponse": {
        "type": "object",
        "description": "TOTP 상태 응답",
        "required": [
          "enabled"
        ],
        "properties": {
          "backup_codes_remaining": {
            "type": [
              "integer",
              "null"
            ],
            "description": "남은 백업 코드 수 (활성화된 경우만)",
            "minimum": 0
          },
          "enabled": {
            "type": "boolean",
            "description": "TOTP 활성화 여부"
          },
          "enabled_at": {
            "type": [
              "string",
              "null"
            ],
            "format": "date-time",
            "description": "TOTP 활성화 시각 (활성화된 경우만)"
          }
        }
      },
      "TotpVerifyRequest": {
        "type": "object",
        "description": "TOTP 검증 요청 (로그인 시 2단계 인증)",
        "required": [
          "temp_token",
          "code"
        ],
        "properties": {
          "code": {
            "type": "string",
            "description": "TOTP 코드 (6자리) 또는 백업 코드 (8자리)"
          },
          "temp_token": {
            "type": "string",
            "description": "로그인 시 받은 임시 토큰"
          }
        }
      },
      "TrendingHashtagsResponse": {
        "type": "object",
        "required": [
          "data"
        ],
        "properties": {
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/HashtagResponse"
            }
          }
        }
      },
      "TrendingQuery": {
        "type": "object",
        "properties": {
          "limit": {
            "type": [
              "integer",
              "null"
            ],
            "format": "int64",
            "minimum": 0
          }
        }
      },
      "UnbanUserRequest": {
        "type": "object",
        "required": [
          "user_id"
        ],
        "properties": {
          "user_id": {
            "type": "string",
            "format": "uuid"
          }
        }
      },
      "UnlinkOAuthRequest": {
        "type": "object",
        "description": "OAuth 연결 해제 요청",
        "required": [
          "provider"
        ],
        "properties": {
          "provider": {
            "$ref": "#/components/schemas/OAuthProvider",
            "description": "OAuth provider to unlink (Google or Github)"
          }
        }
      },
      "UpdateCommentRequest": {
        "type": "object",
        "required": [
          "content"
        ],
        "properties": {
          "content": {
            "type": "string"
          }
        }
      },
      "UpdateDraftRequest": {
        "type": "object",
        "properties": {
          "content": {
            "type": [
              "string",
              "null"
            ]
          },
          "metadata": {
            "type": [
              "object",
              "null"
            ]
          },
          "slug": {
            "type": [
              "string",
              "null"
            ]
          },
          "title": {
            "type": [
              "string",
              "null"
            ]
          }
        }
      },
      "UpdateMyProfileRequest": {
        "type": "object",
        "properties": {
          "bio": {
            "type": [
              "string",
              "null"
            ]
          },
          "display_name": {
            "type": [
              "string",
              "null"
            ]
          }
        }
      },
      "UpdatePostRequest": {
        "type": "object",
        "properties": {
          "content": {
            "type": [
              "string",
              "null"
            ]
          },
          "hashtags": {
            "type": [
              "array",
              "null"
            ],
            "items": {
              "type": "string"
            }
          },
          "publish": {
            "type": [
              "boolean",
              "null"
            ]
          },
          "slug": {
            "type": [
              "string",
              "null"
            ]
          },
          "summary": {
            "type": [
              "string",
              "null"
            ]
          },
          "thumbnail_image": {
            "type": [
              "string",
              "null"
            ]
          },
          "title": {
            "type": [
              "string",
              "null"
            ]
          },
          "unpublish": {
            "type": [
              "boolean",
              "null"
            ]
          }
        }
      },
      "UpdateReportRequest": {
        "type": "object",
        "properties": {
          "reason": {
            "type": [
              "string",
              "null"
            ]
          },
          "status": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/ReportStatus"
              }
            ]
          }
        }
      },
      "UploadPostImageRequest": {
        "type": "object",
        "required": [
          "file"
        ],
        "properties": {
          "file": {
            "type": "string",
            "format": "binary",
            "contentMediaType": "image/*"
          }
        }
      },
      "UploadPostImageResponse": {
        "type": "object",
        "required": [
          "image_url"
        ],
        "properties": {
          "image_url": {
            "type": "string"
          }
        }
      },
      "UploadUserImageRequest": {
        "type": "object",
        "required": [
          "file"
        ],
        "properties": {
          "file": {
            "type": "string",
            "format": "binary",
            "description": "Image file binary data",
            "contentMediaType": "image/*"
          }
        }
      },
      "UploadUserImageResponse": {
        "type": "object",
        "required": [
          "image_url"
        ],
        "properties": {
          "image_url": {
            "type": "string",
            "description": "URL of the uploaded image"
          }
        }
      },
      "UserBanResponse": {
        "type": "object",
        "required": [
          "id",
          "user_id",
          "banned_by",
          "reason",
          "created_at"
        ],
        "properties": {
          "banned_by": {
            "type": "string",
            "format": "uuid"
          },
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "expires_at": {
            "type": [
              "string",
              "null"
            ],
            "format": "date-time"
          },
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "reason": {
            "type": "string"
          },
          "user_id": {
            "type": "string",
            "format": "uuid"
          }
        }
      },
      "UserIdPath": {
        "type": "object",
        "required": [
          "user_id"
        ],
        "properties": {
          "user_id": {
            "type": "string",
            "format": "uuid"
          }
        }
      },
      "UserResponse": {
        "type": "object",
        "required": [
          "id",
          "email",
          "handle",
          "display_name",
          "follower_count",
          "following_count",
          "is_verified",
          "created_at"
        ],
        "properties": {
          "banner_image": {
            "type": [
              "string",
              "null"
            ]
          },
          "bio": {
            "type": [
              "string",
              "null"
            ]
          },
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "display_name": {
            "type": "string"
          },
          "email": {
            "type": "string"
          },
          "follower_count": {
            "type": "integer",
            "format": "int32"
          },
          "following_count": {
            "type": "integer",
            "format": "int32"
          },
          "handle": {
            "type": "string"
          },
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "is_verified": {
            "type": "boolean"
          },
          "profile_image": {
            "type": [
              "string",
              "null"
            ]
          }
        }
      },
      "UserRole": {
        "type": "string",
        "enum": [
          "User",
          "Moderator",
          "Admin"
        ]
      },
      "UserRoleResponse": {
        "type": "object",
        "required": [
          "user_id",
          "role",
          "created_at"
        ],
        "properties": {
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "granted_by": {
            "type": [
              "string",
              "null"
            ],
            "format": "uuid"
          },
          "role": {
            "$ref": "#/components/schemas/UserRole"
          },
          "user_id": {
            "type": "string",
            "format": "uuid"
          }
        }
      },
      "UserSearchItem": {
        "type": "object",
        "required": [
          "id",
          "handle",
          "display_name"
        ],
        "properties": {
          "bio": {
            "type": [
              "string",
              "null"
            ]
          },
          "display_name": {
            "type": "string"
          },
          "handle": {
            "type": "string"
          },
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "profile_image": {
            "type": [
              "string",
              "null"
            ]
          }
        }
      },
      "VerifyEmailRequest": {
        "type": "object",
        "required": [
          "token"
        ],
        "properties": {
          "token": {
            "type": "string",
            "description": "이메일 인증 토큰"
          }
        }
      }
    },
    "securitySchemes": {
      "anonymous_id_cookie": {
        "type": "apiKey",
        "in": "cookie",
        "name": "anonymous_user_id"
      },
      "session_id_cookie": {
        "type": "apiKey",
        "in": "cookie",
        "name": "session_id"
      }
    }
  },
  "tags": [
    {
      "name": "Health",
      "description": "Health endpoints"
    },
    {
      "name": "Auth",
      "description": "Authentication endpoints"
    },
    {
      "name": "User",
      "description": "User endpoints"
    },
    {
      "name": "Search",
      "description": "Search endpoints"
    },
    {
      "name": "Action Logs",
      "description": "User activity logs"
    },
    {
      "name": "Posts",
      "description": "Post endpoints"
    },
    {
      "name": "Drafts",
      "description": "Draft endpoints"
    },
    {
      "name": "Comments",
      "description": "Comment endpoints"
    },
    {
      "name": "Likes",
      "description": "Like endpoints"
    },
    {
      "name": "Follows",
      "description": "Follow endpoints"
    },
    {
      "name": "Hashtags",
      "description": "Hashtag endpoints"
    },
    {
      "name": "Reports",
      "description": "Report endpoints"
    },
    {
      "name": "User Roles",
      "description": "User role management endpoints"
    },
    {
      "name": "User Bans",
      "description": "User ban management endpoints"
    },
    {
      "name": "Moderation Logs",
      "description": "Moderation log endpoints"
    }
  ]
}