# ── Environment ──────────────────────────────────────────
RUST_LOG=info
ENVIRONMENT=production

# ── Server ──────────────────────────────────────────────
HOST=0.0.0.0
PORT=8000

# ── Auth ────────────────────────────────────────────────
TOTP_SECRET=  # openssl rand -base64 32
AUTH_SESSION_MAX_LIFETIME_HOURS=720
AUTH_SESSION_SLIDING_TTL_HOURS=168
AUTH_SESSION_REFRESH_THRESHOLD=50
AUTH_EMAIL_VERIFICATION_TOKEN_EXPIRE_TIME=15
AUTH_PASSWORD_RESET_TOKEN_EXPIRE_TIME=15
AUTH_EMAIL_CHANGE_TOKEN_EXPIRE_TIME=15
OAUTH_PENDING_SIGNUP_TTL_MINUTES=10

# ── OAuth: Google ───────────────────────────────────────
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GOOGLE_REDIRECT_URI=https://example.com/auth/google/callback

# ── OAuth: GitHub ───────────────────────────────────────
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=
GITHUB_REDIRECT_URI=https://example.com/auth/github/callback

# ── Database: Write (primary) ───────────────────────────
POSTGRES_WRITE_HOST=postgres
POSTGRES_WRITE_PORT=5432
POSTGRES_WRITE_NAME=mofumofu
POSTGRES_WRITE_USER=mofumofu
POSTGRES_WRITE_PASSWORD=
POSTGRES_WRITE_MAX_CONNECTION=100
POSTGRES_WRITE_MIN_CONNECTION=10

# ── Database: Read (replica, same as write if no replica) ──
POSTGRES_READ_HOST=postgres
POSTGRES_READ_PORT=5432
POSTGRES_READ_NAME=mofumofu
POSTGRES_READ_USER=mofumofu
POSTGRES_READ_PASSWORD=
POSTGRES_READ_MAX_CONNECTION=100
POSTGRES_READ_MIN_CONNECTION=10

# ── Redis: Session (persistent, AOF) ───────────────────
REDIS_SESSION_HOST=redis-session
REDIS_SESSION_PORT=6379

# ── Redis: Cache (volatile, LRU) ───────────────────────
REDIS_CACHE_HOST=redis-cache
REDIS_CACHE_PORT=6380

# ── NATS ────────────────────────────────────────────────
NATS_URL=nats://nats:4222

# ── MeiliSearch ─────────────────────────────────────────
MEILISEARCH_HOST=http://meilisearch:7700
MEILISEARCH_API_KEY=

# ── Markdown Service ────────────────────────────────────
MARKDOWN_SERVICE_URL=http://markdown-service:6700

# ── Cloudflare R2 ──────────────────────────────────────
R2_ENDPOINT=
R2_REGION=auto
R2_PUBLIC_DOMAIN=
R2_BUCKET_NAME=
R2_ACCESS_KEY_ID=
R2_SECRET_ACCESS_KEY=

# ── Cloudflare Turnstile ───────────────────────────────
TURNSTILE_SECRET_KEY=

# ── CORS ────────────────────────────────────────────────
CORS_ALLOWED_ORIGINS=https://example.com
CORS_ALLOWED_HEADERS=Content-Type,Authorization
CORS_MAX_AGE=86400

# ── Cookie ──────────────────────────────────────────────
COOKIE_DOMAIN=.example.com

# ── Stability ──────────────────────────────────────────
STABILITY_CONCURRENCY_LIMIT=500
STABILITY_BUFFER_SIZE=1024
STABILITY_TIMEOUT_SECS=30
